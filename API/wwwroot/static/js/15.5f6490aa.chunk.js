(this.webpackJsonptcm=this.webpackJsonptcm||[]).push([[15],{426:function(e,t,r){"use strict";r.d(t,"c",(function(){return l})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var a=r(34),n=r.n(a),c=r(59),s=r(55),u=r(43),l=function(){var e=Object(c.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(u.f)(),e.prev=1,e.next=4,Object(s.a)({url:"/Project/GetProjectListFilterByModule",method:"POST",params:t});case 4:return r=e.sent,e.abrupt("return",[r,null]);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[null,e.t0]);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(u.f)(),e.prev=1,e.next=4,Object(s.a)({url:"/Project/AddProject",method:"POST",data:t});case 4:return r=e.sent,e.abrupt("return",[r,null]);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[null,e.t0]);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(u.f)(),e.prev=1,e.next=4,Object(s.a)({url:"/Common/GetListItemByListItemCategorySystemName/".concat(t),method:"GET"});case 4:return r=e.sent,e.abrupt("return",[r,null]);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[null,e.t0]);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},444:function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return o})),r.d(t,"a",(function(){return d}));var a=r(34),n=r.n(a),c=r(59),s=r(55),u=r(43),l=function(){var e=Object(c.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(u.f)(),e.prev=1,e.next=4,Object(s.a)({url:"/User/GetUserListFilterByRole",method:"GET",params:t});case 4:return r=e.sent,e.abrupt("return",[r,null]);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[null,e.t0]);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(u.f)(),e.prev=1,e.next=4,Object(s.a)({url:"/User/GetRoleList",method:"GET"});case 4:return t=e.sent,e.abrupt("return",[t,null]);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[null,e.t0]);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(u.f)(),e.prev=1,e.next=4,Object(s.a)({url:"/User/UpdateUser",method:"POST",params:t});case 4:return r=e.sent,e.abrupt("return",[r,null]);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[null,e.t0]);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(n.a.mark((function e(t){var r,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(u.f)(),e.prev=1,r="/User/GetUserDetail/".concat(t),e.next=5,Object(s.a)({url:r,method:"GET"});case 5:return a=e.sent,e.abrupt("return",[a,null]);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",[null,e.t0]);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},486:function(e,t,r){"use strict";r.r(t),r.d(t,"EditUser",(function(){return k}));var a=r(34),n=r.n(a),c=r(59),s=r(50),u=r(457),l=r(492),i=r(216),o=r(442),d=r(443),j=r(451),m=r(459),b=r(406),p=r(73),f=r(16),O=r(444),h=r(0),v=r(426),x=r(4),g=u.a.Option,k=function(){var e,t=l.a.useForm(),r=Object(s.a)(t,1)[0],a=Object(h.useState)(0),k=Object(s.a)(a,2),w=k[0],y=k[1],I=Object(h.useState)(!1),U=Object(s.a)(I,2),N=U[0],R=U[1],S=Object(f.g)(),F=Object(f.i)(),q=Object(h.useState)([]),G=Object(s.a)(q,2),E=G[0],P=G[1],T=Object(h.useState)([]),z=Object(s.a)(T,2),L=z[0],M=z[1],B=(null===(e=F.params)||void 0===e?void 0:e.userId)||0,C=function(){var e=Object(c.a)(n.a.mark((function e(t){var r,a,c,u,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),console.log(t),r={userId:B,userRoleListItemId:t.role},t.market&&(r.market=t.market),e.next=6,Object(O.d)(r);case 6:a=e.sent,c=Object(s.a)(a,2),u=c[0],l=c[1],R(!1),u&&i.b.success("User Updated Sucessfully "),l&&i.b.error("Unable to Update User :(  ");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(n.a.mark((function e(){var t,r,a,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.b)("ProjectMarket");case 2:t=e.sent,r=Object(s.a)(t,2),a=r[0],c=r[1],a&&P(a.data),c&&i.b.error("Failed to list market");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(n.a.mark((function e(){var t,r,a,c,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.b)("UserRole");case 2:t=e.sent,r=Object(s.a)(t,2),a=r[0],c=r[1],a&&((u=a.data).map((function(e){return{value:e.listItemId,label:e.listItemName}})),M(u)),c&&(M([]),i.b.error("Failed to list role"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(c.a)(n.a.mark((function e(){var t,a,c,u,l,o,d,j,m,b;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)(B);case 2:t=e.sent,a=Object(s.a)(t,2),c=a[0],u=a[1],c&&(l=null===c||void 0===c?void 0:c.data,o=l.name,d=l.username,j=l.email,m=l.roleId,b=l.marketId,r.setFieldsValue({name:o,username:d,email:j,role:m,market:b})),u&&(u.status,i.b.error("Failed to load user"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.useEffect)((function(){J(),V(),A()}),[]),Object(x.jsx)(o.a,{className:"mt-4 p-4",children:Object(x.jsxs)(d.a,{span:"24",className:"p-2 mt-2",children:[Object(x.jsxs)(j.a,{children:[Object(x.jsx)(j.a.Item,{children:"User settings"}),Object(x.jsx)(j.a.Item,{children:Object(x.jsx)("a",{href:"/admin/users/".concat(1),children:"Edit Profile"})})]}),Object(x.jsx)(m.a,{}),Object(x.jsxs)(l.a,{className:"mt-4",layout:"vertical",onFinish:C,form:r,initialValues:{name:"",username:"",email:"",role:"",market:""},onValuesChange:function(e){var t=Object.keys(e)[0];if("role"===t){var a=e[t];"28"!==a&&r.setFieldsValue({market:""}),y(a)}},children:[Object(x.jsx)(o.a,{gutter:24,children:Object(x.jsx)(d.a,{lg:16,xs:24,className:"gutter-row",children:Object(x.jsx)(l.a.Item,{label:"Full Name",name:"name",rules:[{required:!0,message:"Full Name is Required"}],children:Object(x.jsx)(b.a,{size:"large",placeholder:"Ram Sharma",readOnly:!0})})})}),Object(x.jsx)(o.a,{gutter:24,children:Object(x.jsx)(d.a,{lg:16,xs:24,className:"gutter-row",children:Object(x.jsx)(l.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Username is Required"}],children:Object(x.jsx)(b.a,{size:"large",placeholder:"ram234",readOnly:!0})})})}),Object(x.jsx)(o.a,{gutter:24,children:Object(x.jsx)(d.a,{lg:16,xs:24,className:"gutter-row",children:Object(x.jsx)(l.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Email is Required"}],children:Object(x.jsx)(b.a,{size:"large",type:"email",placeholder:"hello@gmail.com",readOnly:!0})})})}),Object(x.jsx)(o.a,{gutter:24,children:Object(x.jsx)(d.a,{lg:16,xs:24,className:"gutter-row",children:Object(x.jsx)(l.a.Item,{label:"Role",name:"role",rules:[{required:!0,message:"Role is Required"}],children:Object(x.jsx)(u.a,{size:"large",placeholder:"Select Role",children:L.map((function(e,t){return Object(x.jsx)(g,{value:null===e||void 0===e?void 0:e.listItemId,children:null===e||void 0===e?void 0:e.listItemName},t)}))})})})}),Object(x.jsx)(o.a,{gutter:24,children:Object(x.jsx)(d.a,{lg:16,xs:24,className:"gutter-row",children:28===w&&Object(x.jsx)(l.a.Item,{label:"Market",name:"market",rules:[{required:!0,message:"Market is Required"}],children:Object(x.jsx)(u.a,{size:"large",placeholder:"Select Market",children:E.map((function(e,t){return Object(x.jsx)(g,{value:null===e||void 0===e?void 0:e.listItemId,children:null===e||void 0===e?void 0:e.listItemName},t)}))})})})}),Object(x.jsxs)(o.a,{className:"mt-4",children:[Object(x.jsx)(d.a,{lg:8,xs:12,children:Object(x.jsx)(l.a.Item,{children:Object(x.jsx)(p.a,{size:"middle",loading:N,type:"primary",htmlType:"submit",children:"Update User"})})}),Object(x.jsx)(d.a,{lg:8,xs:12,className:"d-flex justify-content-end",children:Object(x.jsx)(l.a.Item,{children:Object(x.jsx)(p.a,{type:"default",size:"middle",onClick:function(){S.push("/admin/users")},children:"Go Back"})})})]})]})]})})};t.default=k}}]);
//# sourceMappingURL=15.5f6490aa.chunk.js.map